@import "tailwindcss";

@theme {
  --color-neon-magenta: #ff00ff;
  --color-neon-cyan: #00ffff;
  --color-neon-yellow: #ffcc00;
  --color-neon-gray: #666666;
  --color-neon-purple: #8080ff;
  --color-bg-dark: #0a0a0f;
  --color-bg-secondary: #141420;
  --color-text-primary: #ffffff;
  --color-text-secondary: rgba(255, 255, 255, 0.7);
  --breakpoint-xs: 480px;
  --animate-pulse-magenta: pulse-magenta 3s ease-in-out infinite;
  --animate-pulse-cyan: pulse-cyan 4s ease-in-out infinite;
  --animate-pulse-yellow: pulse-yellow 4s ease-in-out infinite;
  --animate-slide-in-right: slide-in-right 0.2s ease-out;
  --animate-slide-in-left: slide-in-left 0.2s ease-out;
  --animate-slide-in-up: slide-in-up 0.3s ease-out;
  --animate-slide-down: slide-down 0.2s ease-out;
  --animate-flow: flow 0.5s linear infinite;
}

@layer base {
  body {
    @apply bg-bg-dark text-text-primary overflow-hidden;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    min-height: 100vh;
  }
  #root {
    @apply w-screen h-screen;
  }
}

@keyframes pulse-magenta {
  0%, 100% { opacity: 1; box-shadow: 0 0 15px var(--color-neon-magenta); }
  50% { opacity: 0.9; box-shadow: 0 0 10px var(--color-neon-magenta); }
}

@keyframes pulse-cyan {
  0%, 100% { opacity: 1; box-shadow: 0 0 12px var(--color-neon-cyan); }
  50% { opacity: 0.9; box-shadow: 0 0 8px var(--color-neon-cyan); }
}

@keyframes pulse-yellow {
  0%, 100% { opacity: 1; box-shadow: 0 0 12px var(--color-neon-yellow); }
  50% { opacity: 0.9; box-shadow: 0 0 8px var(--color-neon-yellow); }
}

@keyframes slide-in-right {
  from { transform: translateX(100%); opacity: 0; }
  to { transform: translateX(0); opacity: 1; }
}

@keyframes slide-in-left {
  from { transform: translateX(-100%); opacity: 0; }
  to { transform: translateX(0); opacity: 1; }
}

@keyframes slide-in-up {
  from { transform: translateY(100%); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

@keyframes slide-down {
  from { opacity: 0; transform: translateY(-8px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes flow {
  to { stroke-dashoffset: -10; }
}

/* React Flow overrides */
.neon-flow .react-flow__background {
  background-color: var(--color-bg-dark) !important;
}

.neon-flow .react-flow__edge-path {
  stroke: rgba(255, 255, 255, 0.3) !important;
  stroke-width: 2 !important;
}

.neon-flow .react-flow__edge.animated path {
  stroke-dasharray: 5;
  animation: flow 0.5s linear infinite;
}

.neon-controls {
  background: var(--color-bg-secondary) !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  border-radius: 8px !important;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4) !important;
}

.neon-controls button {
  background: transparent !important;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
  color: var(--color-text-primary) !important;
}

.neon-controls button:hover {
  background: rgba(255, 255, 255, 0.1) !important;
}

.neon-controls button svg {
  fill: var(--color-text-primary) !important;
}

.neon-minimap {
  background: var(--color-bg-secondary) !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  border-radius: 8px !important;
}

.react-flow__node {
  transition: transform 0.5s ease-out !important;
}

.react-flow__node.dragging {
  transition: none !important;
}

.neon-flow .react-flow__node.dimmed {
  opacity: 0.3;
  transition: opacity 0.3s ease;
}

.neon-flow .react-flow__node.dimmed .service-node,
.neon-flow .react-flow__node.dimmed .message-node,
.neon-flow .react-flow__node.dimmed .enum-node,
.neon-flow .react-flow__node.dimmed .external-node {
  animation: none;
  box-shadow: none;
}

.neon-flow .react-flow__node.selected .service-node {
  box-shadow: 0 0 25px var(--color-neon-magenta);
}

.neon-flow .react-flow__node.selected .message-node {
  box-shadow: 0 0 25px var(--color-neon-cyan);
}

.neon-flow .react-flow__node.selected .enum-node {
  box-shadow: 0 0 25px var(--color-neon-yellow);
}

.handle-top,
.handle-bottom {
  width: 8px !important;
  height: 8px !important;
  background: var(--color-neon-cyan) !important;
  border: none !important;
}

@media (pointer: coarse) {
  .react-flow__node {
    touch-action: none;
  }
  .service-node:hover,
  .message-node:hover,
  .enum-node:hover,
  .external-node:hover,
  .package-group-node:hover {
    transform: none;
  }
}

.custom-scrollbar::-webkit-scrollbar { width: 6px; }
.custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
.custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2); border-radius: 3px; }
.custom-scrollbar::-webkit-scrollbar-thumb:hover { background: rgba(255, 255, 255, 0.3); }

.table-scroll::-webkit-scrollbar { height: 4px; }
.table-scroll::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2); border-radius: 2px; }

.service-node,
.message-node,
.enum-node,
.external-node,
.package-group-node {
  will-change: box-shadow, opacity;
}

@media (prefers-reduced-motion: reduce) {
  .service-node,
  .message-node,
  .enum-node,
  .package-group-node {
    animation: none !important;
  }
  .neon-flow .react-flow__edge.animated path {
    animation: none !important;
  }
  .react-flow__node {
    transition: none !important;
  }
}
